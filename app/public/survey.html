<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Friend Finder Survey</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.2/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.2/chosen.jquery.min.js"></script>
</head>
<body>
	<div class="container">
		<h2>Survey Questions</h2>
		<hr>
		<h3>
			<strong>About You</strong>
		</h3>
		<h4>Name (Required)</h4>
		<input type="text" name id="name" class="form-control" required>
		<h4>Link to Photo Image (Required)</h4>
		<input type="text" name id="photo" class="form-control" required>
		<hr>
		<h3>
		<!--Question #1 -->
		<strong>Question 1</strong>
		</h3>
		<h4>Do you like to take walks in the park.</h4>

		<select data-placeholder="" class="chosen-select" id="q1">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>


			<h3>
		<!--Question #2 -->
				<strong>Question 2</strong>
		</h3>
		<h4>Do you enjoy playing video games.</h4>
		<select data-placeholder="" class="chosen-select" id="q2">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>
	
			<h3>
		<!--Question #3 -->
			<strong>Question 3</strong>
		</h3>
		<h4>You love to code.</h4>
		<select data-placeholder="" class="chosen-select" id="q3">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>
		
			<h3>
		<!--Question #4 -->
		<strong>Question 4</strong>
		</h3>
		<h4>You would rather go out to eat than cook at home.</h4>
		<select data-placeholder="" class="chosen-select" id="q4">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>
	
			<h3>
		<!--Question #5 -->
		<strong>Question 5</strong>
		</h3>
		<h4>You love to travel and spend time outdoors.</h4>
		<select data-placeholder="" class="chosen-select" id="q5">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>
		
			<h3>
		<!--Question #6 -->
		<strong>Question 6</strong>
		</h3>
		<h4>You enjoy reading.</h4>
		<select data-placeholder="" class="chosen-select" id="q6">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>
	
			<h3>
		<!--Question #7 -->
		<strong>Question 7</strong>
		</h3>
		<h4>You perfer Mavel Comics over DC.</h4>
		<select data-placeholder="" class="chosen-select" id="q7">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>

			<h3>
		<!--Question #8 -->
		<strong>Question 8</strong>
		</h3>
		<h4>You love to talk but would rather listen to someone you care about.</h4>
		<select data-placeholder="" class="chosen-select" id="q8">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>
	
			<h3>
		<!--Question #9 -->
		<strong>Question 9</strong>
		</h3>
		<h4>You would rather watch T.V. then exercise .</h4>
		<select data-placeholder="" class="chosen-select" id="q9">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>
	
			<h3>
		<!--Question #10 -->
		<strong>Question 10</strong>
		</h3>
		<h4>Your favorite snack is icecream.</h4>
		<select data-placeholder="" class="chosen-select" id="q10">
			<option value=""></option>
			<option value="1">1<(Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5<(Strongly Agree)</option>
		</select>
		<br>
		
		<br>
		<!--Form Submit Button -->
<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
 Submit</button>

 		<div class="panel-heading">
            
            <a href="/api/friends">API Friends List</a> |
            <a href="https://github.com/jpatterson/friendfinder">GitHub Repo</a> |
            <a href="/api/home">API Friends Home</a>
        </div>


<script type="text/javascript">

    	$("#submit").on("click", function(event) {
		event.preventDefault();
	
	var newFriend = {
		name: $("#name").val().trim(),
		photo:$("#photo").val().trim(),
		score:[
				$("#q1").val(), 
				$("#q2").val(), 
				$("#q3").val(), 
				$("#q4").val(), 
				$("#q5").val(), 
				$("#q6").val(), 
				$("#q7").val(), 
				$("#q8").val(), 
				$("#q9").val(), 
				$("#q10").val()
			]
		};
	//console.log(newFriend);


		$.post("/api/friends", newFriend, function(data){
			console.log(data);
			if (data) {
				alert("Thank you for your survey, your match will be displayed shortly");
			} else {
				alert("Please complete all survey options");
			}

			// Clears the form after submission
			$('#name').val("");
			$('#photo').val("");
			$('#score').val("");

		});
	});




  

	    	// Grab the URL of the website
	 //    	var currentURL = window.location.origin;

	 //    	// AJAX post the data to the friends API. 
	 //    	$.post(currentURL + "/api/friendData", friendData, function(data){

	 // //    		// Grab the result from the AJAX post so that the best match's name and photo are displayed.
	 //    		$("#name").text(data.name);
	 //    		$('#matchImg').attr("src", data.photo);

		//     	// Show the modal with the best match 
		//     	$("#resultsModal").modal('toggle');

	 //    	}),
		//  else
		// {
		// alert("Please fill out all fields before submitting!");
		
  //   	};
  //   	return false;
  //   };

    // function runFriendQuery() {

    //   // Here we get the location of the root page.
    //   // We use this instead of explicitly saying the URL is localhost:3001 because the url will change when we deploy.
    //   var currentURL = window.location.origin;

    //   // The AJAX function uses the URL of our API to GET the data associated with it (initially set to localhost)
    //   $.ajax({ url: currentURL + "/api/friends", method: "GET" })
    //   .done(function(friendData) {

    //     // Here we are logging the URL so we have access to it for troubleshooting
    //     console.log("------------------------------------");
    //     console.log("URL: " + currentURL + "/api/friends");
    //     console.log("------------------------------------");

    //     // Here we then log the NYTData to console, where it will show up as an object.
    //     console.log(friendData);
    //     console.log("------------------------------------");

    //     // Loop through and display each of the customers
    //     for (var i = 0; i < friendData.length; i++) {

    //       // Create the HTML Well (Section) and Add the table content for each reserved table
    //       var friendSelection = $("<div>");
    //       friendSelection.addClass("well");
    //       friendSelection.attr("id", "tableWell-" + i + 1);
    //       $("#friendSection").append(friendSelection);

    //       var friend = i + 1;


    //       // Then display the remaining fields in the HTML (Section Name, Date, URL)
    //       $("#tableWell-" + i + 1).append("<h2><span class='label label-primary'>" + friend + "</span> | " + friendData[i].name + "</h2>");
    //     }
    //   }),
    //   runFriendQuery();
    // };

    
    	
</script>
</body>
</html>

